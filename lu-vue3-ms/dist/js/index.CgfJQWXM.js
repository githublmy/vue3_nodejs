import{_ as L}from"./index.CoCHea4S.js";import{ax as M,d as U,ai as N,ay as V,r as b,ah as $,aj as j,o as u,c as x,g as s,w as n,e as d,ak as h,b as I,al as g,ae as v,az as P,am as q,an as A}from"./main.CrQy0rei.js";import{E as G}from"./el-progress.CqWi67kK.js";import"./el-loading.DU3eHb9R.js";import"./el-tag.CBx_6nbQ.js";import"./_Uint8Array.BJ3loEHr.js";import"./isEqual.B76CtRx5.js";import"./el-select.BPwTr14U.js";import"./useInput.DyB6ZbP4.js";import"./debounce.CQa-nK8j.js";import"./el-table-column.Tdne-eVB.js";import"./el-checkbox.BHJtwiwd.js";import"./_initCloneObject.CmUq_dQd.js";import"./raf.L_Sax3OL.js";import"./el-row.Bv96wKzH.js";import"./_baseClone.CmRA-Kzl.js";const H=M("fileList",{state:()=>({fileList:[]})}),J=v("div",{class:"el-upload__text"},[g("拖拽文件或者"),v("em",null,"点击上传")],-1),K=U({__name:"index",setup(k){const m=N("elMsg"),c="http://localhost:3000/files/upload",{fileList:i}=V(H()),C=b([{prop:"name",label:"文件名称"},{prop:"size",label:"文件大小"},{prop:"percentage",label:"上传进度(%)"},{prop:"operate",label:"操作",slot:"operate"}]),r=b(),y=(e,t)=>{r.value.handleRemove(e),i.value.splice(t,1)},E=()=>{r.value.submit()},z=(e,t)=>{e.status==="ready"&&i.value.unshift(e)},S=(e,t,o)=>{m.success("上传成功")},T=e=>{const t=e.size,o=1024*1024*5,p=Math.ceil(t/o);for(let l=0;l<p;l++){const a=l*o,_=Math.min(a+o,t);e.slice(a,_)}},w=(e,t,o)=>{},B=(e,t)=>{},D=(e,t)=>!0;return(e,t)=>{const o=$("upload-filled"),p=P,l=G,a=q,_=L,f=j("blur");return u(),x("div",null,[s(l,{ref_key:"uploadRef",ref:r,style:{width:"100%"},action:d(c),"before-upload":T,"before-remove":D,drag:"",multiple:"","auto-upload":!1,"show-file-list":!1,"on-progress":w,"on-exceed":B,"on-change":z,"on-success":S},{default:n(()=>[s(p,{class:"el-icon--upload"},{default:n(()=>[s(o)]),_:1}),J]),_:1},8,["action"]),s(_,{tableTitle:d(C),tableData:d(i)},{operate:n(({row:F,index:R})=>[h(s(a,{type:"danger",icon:"Delete",plain:"",size:"small",onClick:X=>y(F,R)},null,8,["onClick"]),[[f]])]),_:1},8,["tableTitle","tableData"]),h((u(),I(a,{type:"success",onClick:E},{default:n(()=>[g(" 开始上传 ")]),_:1})),[[f]])])}}}),O={},Q={class:"baseStyle"};function W(k,m){const c=K;return u(),x("div",Q,[s(c)])}const me=A(O,[["render",W]]);export{me as default};
