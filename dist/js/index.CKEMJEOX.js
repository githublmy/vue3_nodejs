import{_ as L}from"./index.Cua54RHl.js";import{ay as M,d as U,ai as N,az as V,r as b,ah as $,aj as j,o as u,c as g,g as s,w as n,e as d,ak as h,b as A,al as x,ae as v,aA as I,am as P,an as q}from"./main.D4uViPbW.js";import{E as G}from"./el-progress.CehTZ-eC.js";import"./el-loading.K-my3I33.js";import"./el-tag.DLxNf354.js";import"./_Uint8Array.C7d7cuXl.js";import"./isEqual.Bza_6Eof.js";import"./el-select.Vnl8qM4X.js";import"./debounce.DTWgmgM_.js";import"./el-checkbox.BJFAMoGs.js";import"./el-row.ChN6gPx_.js";import"./_initCloneObject.ClIokcBu.js";import"./raf.BXPB6SPZ.js";import"./_baseClone.C02S0ce6.js";const H=M("fileList",{state:()=>({fileList:[]})}),J=v("div",{class:"el-upload__text"},[x("拖拽文件或者"),v("em",null,"点击上传")],-1),K=U({__name:"index",setup(k){const m=N("elMsg"),c="http://localhost:3000/files/upload",{fileList:i}=V(H()),C=b([{prop:"name",label:"文件名称"},{prop:"size",label:"文件大小"},{prop:"percentage",label:"上传进度(%)"},{prop:"operate",label:"操作",slot:"operate"}]),r=b(),y=(e,t)=>{r.value.handleRemove(e),i.value.splice(t,1)},E=()=>{r.value.submit()},z=(e,t)=>{e.status==="ready"&&i.value.unshift(e)},S=(e,t,o)=>{m.success("上传成功")},T=e=>{const t=e.size,o=1024*1024*5,p=Math.ceil(t/o);for(let l=0;l<p;l++){const a=l*o,_=Math.min(a+o,t);e.slice(a,_)}},w=(e,t,o)=>{},B=(e,t)=>{},D=(e,t)=>!0;return(e,t)=>{const o=$("upload-filled"),p=I,l=G,a=P,_=L,f=j("blur");return u(),g("div",null,[s(l,{ref_key:"uploadRef",ref:r,style:{width:"100%"},action:d(c),"before-upload":T,"before-remove":D,drag:"",multiple:"","auto-upload":!1,"show-file-list":!1,"on-progress":w,"on-exceed":B,"on-change":z,"on-success":S},{default:n(()=>[s(p,{class:"el-icon--upload"},{default:n(()=>[s(o)]),_:1}),J]),_:1},8,["action"]),s(_,{tableTitle:d(C),tableData:d(i)},{operate:n(({row:F,index:R})=>[h(s(a,{type:"danger",icon:"Delete",plain:"",size:"small",onClick:X=>y(F,R)},null,8,["onClick"]),[[f]])]),_:1},8,["tableTitle","tableData"]),h((u(),A(a,{type:"success",onClick:E},{default:n(()=>[x(" 开始上传 ")]),_:1})),[[f]])])}}}),O={},Q={class:"baseStyle"};function W(k,m){const c=K;return u(),g("div",Q,[s(c)])}const de=q(O,[["render",W]]);export{de as default};
