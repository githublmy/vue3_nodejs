import{m,r as b,e as k,h as v,f as p,w as y,v as x,u as d,x as w,b2 as z,at as T}from"./vendor-CKOI4o9H.js";import{i as D}from"./request-IoRnclOp.js";function S(f,l){return D({url:"/files/upload",method:"post",data:f,onUploadProgress:l})}const q={class:"baseStyle"},C={__name:"index",setup(f){const l=m(),u=m(),h=()=>{},c=m(""),_=(a,s)=>new Promise((n,t)=>{const i=new FormData;i.append("file",a.blob(),a.filename()),fetch("http://localhost:3000/files/upload",{method:"post",body:i}).then(e=>e.json()).then(e=>{if(e.status===404){t({message:"HTTP Error: "+e.status,remove:!0});return}e.url,n(e.url)}).catch(e=>{console.dir(e,"错误"),t("上传失败，未知错误！")})}),g={selector:"#basic-tinymce",license_key:"gpl",height:500,width:"100%",placeholder:"请输入内容",promotion:!1,branding:!1,language:"zh_CN",skin_url:"/vue3_nodejs/dist/skins/ui/tinymce-5",attachment_max_size:100*1024*1024*1024,attachment_assets_path:"/plugins/attachment/icons",content_css:"/vue3_nodejs/dist/skins/custom/content.css",attachment_upload_handler:async function(a,s,n,t){const i=new FormData;i.append("file",a);try{const e=await S(i,o=>{const r=(o.loaded/o.total*100|0)+"%";t(r)});s(e.url)}catch(e){n(`上传失败:${e}`)}},toolbar_mode:"wrap",plugins:`preview indent2em importcss searchreplace autolink autosave save directionality
     code visualblocks visualchars fullscreen image link media codesample table charmap
     pagebreak nonbreaking anchor insertdatetime advlist lists wordcount help
     quickbars emoticons accordion attachment`,menubar:"file edit view insert format tools table help",toolbar:`undo redo | styleselect formatselect fontselect fontsizeselect removeformat |
     blocks fontfamily fontsize | bold italic underline strikethrough subscript superscript hr blockquote |
     forecolor backcolor | align numlist bullist | link image media | table | lineheight indent2em outdent indent |
     charmap emoticons | accordion accordionremove | code codesample | fullscreen preview | save print |
     pagebreak anchor | ltr rtl | wordcount attachment`,line_height_formats:"1 1.1 1.2 1.3 1.4 1.5 2 3 4 5 6",font_size_input_default_unit:"px",font_size_formats:"12px 14px 16px 18px 20px 21px 22px 24px 26px 28px 30px 32px 34px 36px 48px 56px 72px",font_family_formats:"默认字体=Helvetica,sans-serif;微软雅黑=Microsoft YaHei,PingFang SC,sans-serif;苹果苹方=PingFang SC,Microsoft YaHei,sans-serif;宋体=simsun,serif;仿宋体=FangSong,serif;黑体=SimHei,sans-serif;Arial=arial,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;Impact=impact,chicago; Symbol=symbol; Tahoma=tahoma,arial,helvetica,sans-serif; Terminal=terminal,monaco; Times New Roman=times new roman,times; Trebuchet MS=trebuchet ms,geneva; Verdana=verdana,geneva; Webdings=webdings; Wingdings=wingdings,zapf dingbats",importcss_append:!0,quickbars_image_toolbar:"alignleft aligncenter alignright | imageoptions",quickbars_selection_toolbar:"fontsize forecolor backcolor | align bold italic underline | quicklink h2 h3",quickbars_insert_toolbar:!1,content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px } img {max-width:100%;} video {max-width:100%;} ",images_reuse_filename:!0,image_title:!0,images_upload_handler:_,file_picker_types:"media image",file_picker_callback:function(a,s,n){if(n.filetype==="media"){var t=document.createElement("input");t.setAttribute("type","file"),t.setAttribute("accept","video/*"),t.onchange=function(){var i=this.files[0];if(i){const e=new FormData;e.append("file",i),fetch("http://localhost:3000/files/upload",{method:"POST",body:e}).then(o=>o.json()).then(o=>{a(o.url,{title:i.name})}).catch(o=>{})}},t.click()}if(n.filetype==="image"){var t=document.createElement("input");t.setAttribute("type","file"),t.setAttribute("accept","image/*"),t.onchange=function(){var e=this.files[0];if(e){const o=new FormData;o.append("file",e),fetch("http://localhost:3000/files/upload",{method:"POST",body:o}).then(r=>r.json()).then(r=>{a(r.url,{title:e.name})}).catch(r=>{})}},t.click()}},video_template_callback:a=>`<video width="${a.width}" controls="controls" poster="${a.poster}">
    <source src="${a.source}" type="video/mp4" />
    您的浏览器不支持 HTML5 视频标签。
  </video>`};return(a,s)=>{const n=T,t=b("Test");return k(),v("div",q,[p(n,{type:"primary",size:"default",onClick:h},{default:y(()=>[x("获取实例")]),_:1}),p(d(z),{ref_key:"editorRef",ref:l,modelValue:d(c),"onUpdate:modelValue":s[0]||(s[0]=i=>w(c)?c.value=i:null),disabled:!1,"api-key":"aawnz0o8kigy7ia1ztfgziay1bsnneafniczu0c571v20cmz",init:g},null,8,["modelValue"]),p(t,{ref_key:"testRef",ref:u},null,512)])}}};export{C as default};
