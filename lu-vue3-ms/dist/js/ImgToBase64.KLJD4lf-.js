import{d as w,r as d,o as b,b as x,w as a,g as l,al as E,ae as i,af as y,e as B,bJ as k,am as F,c5 as C}from"./main.CrQy0rei.js";import{E as R}from"./el-row.Bv96wKzH.js";import{E as N}from"./el-col.C6TD3t-L.js";import{g as S,E as T}from"./el-progress.CqWi67kK.js";import"./_baseClone.CmRA-Kzl.js";import"./_Uint8Array.BJ3loEHr.js";import"./_initCloneObject.CmUq_dQd.js";import"./isEqual.B76CtRx5.js";const V=i("div",{class:"el-upload__tip"},"最多可添加1张图片",-1),D={style:{width:"500px",height:"100%",background:"rgb(150, 149, 149)","word-break":"break-all",padding:"20px"}},q=w({__name:"ImgToBase64",setup(I){const r=d(),p=(e,o)=>{};function _(e){return new Promise((o,s)=>{const t=new FileReader;t.readAsDataURL(e),t.onload=()=>o(t.result),t.onerror=n=>s(n)})}const c=d(),u=async(e,o)=>{c.value=await _(e.raw)},m=e=>{},f=e=>{r.value.clearFiles();const o=e[0];o.uid=S(),r.value.handleStart(o)},h=(e,o)=>k.confirm(`Cancel the transfer of ${e.name} ?`).then(()=>!0,()=>!1);return(e,o)=>{const s=F,t=T,n=N,g=C,v=R;return b(),x(v,{style:{height:"100%"}},{default:a(()=>[l(n,{span:8},{default:a(()=>[l(t,{ref_key:"upload",ref:r,"on-preview":m,"on-remove":p,"before-remove":h,limit:1,"on-change":u,"auto-upload":!1,"on-exceed":f},{tip:a(()=>[V]),default:a(()=>[l(s,{type:"primary"},{default:a(()=>[E("选择图片")]),_:1})]),_:1},512)]),_:1}),l(n,{span:16},{default:a(()=>[l(g,{height:"calc(100vh - 80px)"},{default:a(()=>[i("div",D,y(B(c)),1)]),_:1})]),_:1})]),_:1})}}});export{q as default};
