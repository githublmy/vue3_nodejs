import{d as w,r as d,o as b,b as x,w as a,g as n,al as E,ae as i,af as y,e as B,aI as k,am as C,bm as R}from"./main.C8JsEMyW.js";import{E as F}from"./el-row.BfjbRtp0.js";import{E as I}from"./el-col.C99YmFyQ.js";import{g as N,E as S}from"./el-progress.BVhnv2eP.js";import"./_baseClone.B8aF0QVs.js";import"./_Uint8Array.mtjerjC0.js";import"./_initCloneObject.jmbnQJGe.js";import"./isEqual.h63iuLDt.js";const T=i("div",{class:"el-upload__tip"},"最多可添加1张图片",-1),V={style:{width:"500px",height:"100%",background:"rgb(150, 149, 149)","word-break":"break-all",padding:"20px"}},z=w({__name:"ImgToBase64",setup(D){const r=d(),p=(e,o)=>{console.log(e,o)};function _(e){return new Promise((o,s)=>{const t=new FileReader;t.readAsDataURL(e),t.onload=()=>o(t.result),t.onerror=l=>s(l)})}const c=d(),m=async(e,o)=>{console.log(e,o),c.value=await _(e.raw)},u=e=>{console.log(e)},f=e=>{r.value.clearFiles();const o=e[0];o.uid=N(),r.value.handleStart(o)},h=(e,o)=>k.confirm(`Cancel the transfer of ${e.name} ?`).then(()=>!0,()=>!1);return(e,o)=>{const s=C,t=S,l=I,g=R,v=F;return b(),x(v,{style:{height:"100%"}},{default:a(()=>[n(l,{span:8},{default:a(()=>[n(t,{ref_key:"upload",ref:r,"on-preview":u,"on-remove":p,"before-remove":h,limit:1,"on-change":m,"auto-upload":!1,"on-exceed":f},{tip:a(()=>[T]),default:a(()=>[n(s,{type:"primary"},{default:a(()=>[E("选择图片")]),_:1})]),_:1},512)]),_:1}),n(l,{span:16},{default:a(()=>[n(g,{height:"calc(100vh - 80px)"},{default:a(()=>[i("div",V,y(B(c)),1)]),_:1})]),_:1})]),_:1})}}});export{z as default};
